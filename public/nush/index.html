<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/style.css">

        <script src="js/vendor/modernizr-2.6.2.min.js"></script>
        <script src="http://www.parsecdn.com/js/parse-1.2.15.min.js"></script>
    </head>
    <body ng-app ng-controller="QuestionsController">
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- Add your site or application content here -->
        <div class="loading-screen" ng-show="loading_shown">
            <img src="img/loading.gif" class="loader"/>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>Cluster Cleanliness Survey</h1>
                    <hr/>
                    <div class="form-group">
                        <label for="name">Cluster Mentor Name</label>
                        <input type="text" class="form-control" id="name" placeholder="Enter name" ng-model="name" ng-change="savePreferences()">
                    </div>
                    <div class="form-group">
                        <label>Select Cluster</label>
                        <select class="form-control" ng-model="cluster" ng-change="savePreferences()">
                            <option value="RA02">RA02</option>
                            <option value="RA02">RB02</option>
                            <option value="RA03">RA03</option>
                            <option value="RB03">RB03</option>
                            <option value="RA04">RA04</option>
                            <option value="RB04">RB04</option>
                            <option value="RA05">RA05</option>
                            <option value="RB05">RB05</option>
                            <option value="RA06">RA06</option>
                            <option value="RB06">RB06</option>
                            <option value="RA07">RA07</option>
                            <option value="RB07">RB07</option>
                            <option value="RA08">RA08</option>
                            <option value="RB08">RB08</option>
                            <option value="RA09">RA09</option>
                            <option value="RB09">RB09</option>
                            <option value="RA10">RA10</option>
                            <option value="RB10">RB10</option>
                            <option value="RA11">RA11</option>
                            <option value="RB11">RB11</option>
                            <option value="RA12">RA12</option>
                            <option value="RB12">RB12</option>
                        </select>
                    </div>
                    <h2>Recently Checked Rooms</h2>
                    <div ng-show="numberOfCheckedRooms() > 0">
                        <span class="rooms-checked" ng-repeat="room in rooms_checked">{{ room }}</span>
                    </div>
                    <p ng-show="numberOfCheckedRooms() == 0">
                        There are no recently checked rooms.
                    </p>
                    <br/>
                    <button class="btn btn-warning" ng-click="clearCheckedRooms()" ng-show="numberOfCheckedRooms() > 0">
                        Clear Checked Rooms
                    </button>
                    <br/>
                    <div class="row" ng-init="ignore_first_room = false">
                        <div class="col-md-12 survey-section">
                            <h2>Room Cleanliness</h2>
                            <p>If this room is empty, press the <strong>'Ignore Room'</strong> button.</p>
                            <button class="btn btn-warning"ng-click="ignore_first_room = !ignore_first_room">
                                {{{false: 'Ignore Room', true: 'Display Room'}[ignore_first_room]}}
                            </button>
                            <hr/>
                            <div ng-show="!ignore_first_room">
                                <div class="form-group">
                                    <label>Select Room</label>
                                    <select class="form-control" ng-model="first_room" ng-change="changeRoom('first')">
                                        <option value="1">01</option>
                                        <option value="2">02</option>
                                        <option value="3">03</option>
                                        <option value="4">04</option>
                                        <option value="5">05</option>
                                        <option value="6">06</option>
                                        <option value="7">07</option>
                                        <option value="8">08</option>
                                        <option value="9">09</option>
                                        <option value="10">10</option>
                                    </select>
                                </div>
                                <br/>
                                <div class="individual-section" ng-init="ignore_first_room_left = false">
                                    <h3>Individual - Left Side</h3>
                                    <p>If the left side of this room is not occupied, press the <strong>'Ignore Left Side'</strong> button.</p>
                                    <button class="btn btn-warning"ng-click="ignore_first_room_left = !ignore_first_room_left">
                                        {{{false: 'Ignore Left Side', true: 'Display Left Side'}[ignore_first_room_left]}}
                                    </button>
                                    
                                    <table class="table table-bordered table-striped" ng-show="!ignore_first_room_left">
                                        <tr ng-repeat="qn in individual_questions" ng-init="index = 0" ng-class="individualQuestionAnswered(index, qn.question)" >
                                            <td class="question">{{qn.question}}</td>
                                            <td ng-repeat="res in qn.options" ng-class="selectIndividualResponse(index, qn.question, res)" ng-click="editIndividualQuestionResponse(index, qn.question, res)" colspan="{{6/qn.options.length}}">{{res}}</td>
                                        </tr>
                                    </table>
                                </div>
                                
                                <div class="individual-section" ng-init="ignore_first_room_right = false">
                                    <h3>Individual - Right Side</h3>
                                    <p>If the right side of this room is not occupied, press the <strong>'Ignore Right Side'</strong> button.</p>
                                    <button class="btn btn-warning" ng-click="ignore_first_room_right = !ignore_first_room_right">
                                        {{{false: 'Ignore Right Side', true: 'Display Right Side'}[ignore_first_room_right]}}
                                    </button>
                                    
                                    <table class="table table-bordered table-striped" ng-show="!ignore_first_room_right">
                                        <tr ng-repeat="qn in individual_questions" ng-init="index = 1" ng-class="individualQuestionAnswered(index, qn.question)" >
                                            <td class="question">{{qn.question}}</td>
                                            <td ng-repeat="res in qn.options" ng-class="selectIndividualResponse(index, qn.question, res)" ng-click="editIndividualQuestionResponse(index, qn.question, res)" colspan="{{6/qn.options.length}}">{{res}}</td>
                                        </tr>
                                    </table>
                                </div>

                                <div class="individual-section">
                                    <h3>Room</h3>
                                    <table class="table table-bordered table-striped">
                                        <tr ng-repeat="qn in room_questions" ng-init="index = 0" ng-class="roomQuestionAnswered(index, qn.question)" >
                                            <td class="question">{{qn.question}}</td>
                                            <td ng-repeat="res in qn.options" ng-class="selectRoomResponse(index, qn.question, res)" ng-click="editRoomQuestionResponse(index, qn.question, res)" colspan="{{6/qn.options.length}}">{{res}}</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" ng-init="ignore_second_room = false">
                        <div class="col-md-12 survey-section">
                            <div class="individual-section" ng-repeat="sn in common_area_questions">
                                <h3>{{sn.section}}</h3>
                                <table class="table table-bordered table-striped">
                                    <tr ng-repeat="qn in sn.questions" ng-class="commonAreaQuestionAnswered(qn.question)">
                                        <td class="question">{{qn.question}}</td>
                                        <td ng-repeat="res in qn.options" ng-class="selectCommonAreaResponse(qn.question, res)" ng-click="editCommonAreaQuestionResponse(qn.question, res)" colspan="{{6/qn.options.length}}">{{res}}</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 survey-section">
                            <h2>Room Cleanliness</h2>
                            <p>If this room is empty, press the <strong>'Ignore Room'</strong> button.</p>
                            <button class="btn btn-warning"ng-click="ignore_second_room = !ignore_second_room">
                                {{{false: 'Ignore Room', true: 'Display Room'}[ignore_second_room]}}
                            </button>
                            <hr/>
                            <div ng-show="!ignore_second_room">
                                <div class="form-group">
                                    <label>Select Room</label>
                                    <select class="form-control" ng-model="second_room" ng-change="changeRoom('second')">
                                        <option value="1">01</option>
                                        <option value="2">02</option>
                                        <option value="3">03</option>
                                        <option value="4">04</option>
                                        <option value="5">05</option>
                                        <option value="6">06</option>
                                        <option value="7">07</option>
                                        <option value="8">08</option>
                                        <option value="9">09</option>
                                        <option value="10">10</option>
                                    </select>
                                </div>
                                <br/>
                                <div class="individual-section" ng-init="ignore_second_room_left = false">
                                    <h3>Individual - Left Side</h3>
                                    <p>If the left side of this room is not occupied, press the <strong>'Ignore Left Side'</strong> button.</p>
                                    <button class="btn btn-warning" ng-click="ignore_second_room_left = !ignore_second_room_left">
                                        {{{false: 'Ignore Left Side', true: 'Show Left Side'}[ignore_second_room_left]}}
                                    </button>
                                    
                                    <table class="table table-bordered table-striped" ng-show="!ignore_second_room_left">
                                        <tr ng-repeat="qn in individual_questions" ng-init="index = 2" ng-class="individualQuestionAnswered(index, qn.question)" >
                                            <td class="question">{{qn.question}}</td>
                                            <td ng-repeat="res in qn.options" ng-class="selectIndividualResponse(index, qn.question, res)" ng-click="editIndividualQuestionResponse(index, qn.question, res)" colspan="{{6/qn.options.length}}">{{res}}</td>
                                        </tr>
                                    </table>
                                </div>
                                
                                <div class="individual-section" ng-init="ignore_second_room_right = false">
                                    <h3>Individual - Right Side</h3>
                                    <p>If the right side of this room is not occupied, press the <strong>'Ignore Left Side'</strong> button.</p>
                                    <button class="btn btn-warning" ng-click="ignore_second_room_right = !ignore_second_room_right">
                                        {{{false: 'Ignore Right Side', true: 'Show Right Side'}[ignore_second_room_right]}}
                                    </button>
                                    
                                    <table class="table table-bordered table-striped" ng-show="!ignore_second_room_right">
                                        <tr ng-repeat="qn in individual_questions" ng-init="index = 3" ng-class="individualQuestionAnswered(index, qn.question)" >
                                            <td class="question">{{qn.question}}</td>
                                            <td ng-repeat="res in qn.options" ng-class="selectIndividualResponse(index, qn.question, res)" ng-click="editIndividualQuestionResponse(index, qn.question, res)" colspan="{{6/qn.options.length}}">{{res}}</td>
                                        </tr>
                                    </table>
                                </div>

                                <div class="individual-section">
                                    <h3>Room</h3>
                                    <table class="table table-bordered table-striped">
                                        <tr ng-repeat="qn in room_questions" ng-init="index = 1" ng-class="roomQuestionAnswered(index, qn.question)" >
                                            <td class="question">{{qn.question}}</td>
                                            <td ng-repeat="res in qn.options" ng-class="selectRoomResponse(index, qn.question, res)" ng-click="editRoomQuestionResponse(index, qn.question, res)" colspan="{{6/qn.options.length}}">{{res}}</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-success btn-block" ng-click="submit()">Submit</button>
                    <br/>
                </div>
            </div>
        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>
        <script type='application/javascript' src='js/vendor/fastclick.js'></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
        <script src="js/questions-controller.js"></script>
        <script>
            Parse.initialize("5NDGW5pTQoBNsypxoYihLwEwTzyxIE4ktZxGT8FO", "20GB1EMzpgBC6ySZxuLJer1wD3iHshNxQv55K877");
            $(function() {
                FastClick.attach(document.body);
            });
        </script>
        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X');ga('send','pageview');
        </script>
    </body>
</html>
